{
  "version": 4,
  "terraform_version": "1.4.0",
  "serial": 291,
  "lineage": "fcd37775-678b-0230-0351-cbd6936b2cd0",
  "outputs": {
    "admin_ip": {
      "value": "10.0.11.2",
      "type": "string"
    },
    "bastion_nat_ip": {
      "value": "123.37.5.249",
      "type": "string"
    },
    "private_subnet_id": {
      "value": [
        "SUBNET-UGfSXjl2sjjStIn0T76vKb"
      ],
      "type": [
        "tuple",
        [
          "string"
        ]
      ]
    },
    "public_subnet_id": {
      "value": [
        "SUBNET-XkLEoI1fqDcQoWbiZXukDm"
      ],
      "type": [
        "tuple",
        [
          "string"
        ]
      ]
    },
    "vpc_id": {
      "value": "VPC-TU8-lEmpt6cUMultIWLocc",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "scp_region",
      "name": "my_region",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "block_id": "POOL-frgJCkfcrYmM49R-rCDJZm",
            "filter": null,
            "id": "ZONE-FClPklmysrhRpknZ6DaI2f",
            "location": "KR-WEST-1",
            "name": "KOREA-WEST-1-SCP-B001"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "scp_region",
      "name": "region",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "block_id": "POOL-frgJCkfcrYmM49R-rCDJZm",
            "filter": null,
            "id": "ZONE-FClPklmysrhRpknZ6DaI2f",
            "location": "KR-WEST-1",
            "name": "KOREA-WEST-1-SCP-B001"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "scp_standard_image",
      "name": "ubuntu_image",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base_image": "Release/Linux/Ubuntu/CMP_UBUNTU_SERVER_ENTERPRISE_20.04.3_ALL_64",
            "category": "OS",
            "description": "",
            "filter": [
              {
                "name": "image_name",
                "use_regex": false,
                "values": [
                  "Ubuntu 20.04"
                ]
              }
            ],
            "id": "IMAGE-dW-daWg-sKnGu7v28o2bBh1",
            "image_name": "Ubuntu 20.04",
            "image_type": "STANDARD",
            "os_type": "UBUNTU",
            "region": "KR-WEST-1",
            "service": "Virtual Server",
            "service_group": "COMPUTE"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "scp_standard_image",
      "name": "ubuntu_node_image",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base_image": "Release/K8S/ubuntu-18.04-kube-v1.24.8-ske.p3",
            "category": "OS",
            "description": "",
            "filter": [
              {
                "name": "image_name",
                "use_regex": false,
                "values": [
                  "Ubuntu 18.04 (Kubernetes)-v1.24.8"
                ]
              }
            ],
            "id": "IMAGE-l0Rg-WhpsifRm8G-j3tBxkPP3",
            "image_name": "Ubuntu 18.04 (Kubernetes)-v1.24.8",
            "image_type": "STANDARD",
            "os_type": "UBUNTU",
            "region": "KR-WEST-1",
            "service": "Kubernetes Engine VM",
            "service_group": "CONTAINER"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_file_storage",
      "name": "mgmt_nfs",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "cifs_password": null,
            "disk_type": "HDD",
            "id": "FILE_STORAGE-vacJs1rXrXkUSnXmJ1qZvh",
            "is_encrypted": false,
            "name": "eshop_mgmt_nfs",
            "protocol": "NFS",
            "region": "KR-WEST-1",
            "retention_count": 2,
            "snapshot_day_of_week": "",
            "snapshot_frequency": "",
            "snapshot_hour": 0
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.region"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_internet_gateway",
      "name": "mgmt_igw",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "Internet GW generated from Terraform",
            "id": "IGW-6cTHeIhpq5mH37S45fcY3b",
            "vpc_id": "VPC-TU8-lEmpt6cUMultIWLocc"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_kubernetes_engine",
      "name": "mgmt_cluster",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": []
    },
    {
      "mode": "managed",
      "type": "scp_kubernetes_node_pool",
      "name": "pool",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": []
    },
    {
      "mode": "managed",
      "type": "scp_load_balancer",
      "name": "mgmt_lb",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "cidr_ipv4": "192.168.102.0/24",
            "description": "LoadBalancer generated from Terraform",
            "id": "LB-Apr3001BtaaJdOrr4BnK3i",
            "link_ip": "192.168.254.2",
            "name": "eshop_mgmt_lb",
            "size": "SMALL",
            "vpc_id": "VPC-TU8-lEmpt6cUMultIWLocc"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_nat_gateway",
      "name": "mgmt_nat",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "NAT GW from Terraform",
            "id": "NAT_GW-3Hth_PlhqOiM3nZq2c0Jsa",
            "public_ip_id": "",
            "public_ipv4": "123.37.5.250",
            "subnet_id": "SUBNET-UGfSXjl2sjjStIn0T76vKb"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "scp_subnet.private",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_public_ip",
      "name": "bastion_ip",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "Public IP generated from Terraform",
            "id": "PUBLIC_IP-VlddBCr3qJdVSpKufJxR6a",
            "ipv4": "123.37.5.249",
            "region": "KR-WEST-1"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.region"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_security_group",
      "name": "admin_sg",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "eshop management admin server security group",
            "id": "FIREWALL_SECURITY_GROUP-xIfP8NVKr8bQ3dbHh6HTRa",
            "is_loggable": false,
            "name": "eshopMgmtAdSG",
            "vpc_id": "VPC-TU8-lEmpt6cUMultIWLocc"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_security_group",
      "name": "bastion_sg",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "eshop management bastion server security group",
            "id": "FIREWALL_SECURITY_GROUP-ExD5AHrCtZgIgvXImxyQAf",
            "is_loggable": false,
            "name": "eshopMgmtBtSG",
            "vpc_id": "VPC-TU8-lEmpt6cUMultIWLocc"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_security_group",
      "name": "mgmt_cluster_sg",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "eshop management admin server security group",
            "id": "FIREWALL_SECURITY_GROUP-Vf7cSYr0rBdGaqI2TqPBIo",
            "is_loggable": false,
            "name": "eshopMgmtClSG",
            "vpc_id": "VPC-TU8-lEmpt6cUMultIWLocc"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_security_group_rule",
      "name": "admin_rule_all",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addresses_ipv4": [
              "0.0.0.0/0"
            ],
            "description": "SG out rule generated from Terraform",
            "direction": "OUT",
            "id": "FIREWALL_RULE--R9gDiGlshhVyytEeXYuRa",
            "security_group_id": "FIREWALL_SECURITY_GROUP-xIfP8NVKr8bQ3dbHh6HTRa",
            "service": [
              {
                "type": "all",
                "value": ""
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "scp_security_group.admin_sg",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_security_group_rule",
      "name": "admin_rule_tcp",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addresses_ipv4": [
              "10.0.1.0/24"
            ],
            "description": "ssh SG rule generated from Terraform",
            "direction": "IN",
            "id": "FIREWALL_RULE-71biZIwhrndHHIi1DDCYcg",
            "security_group_id": "FIREWALL_SECURITY_GROUP-xIfP8NVKr8bQ3dbHh6HTRa",
            "service": [
              {
                "type": "all",
                "value": ""
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "scp_security_group.admin_sg",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_security_group_rule",
      "name": "bastion_rule_all",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addresses_ipv4": [
              "0.0.0.0/0"
            ],
            "description": "SG out rule generated from Terraform",
            "direction": "OUT",
            "id": "FIREWALL_RULE-kClvaF65rMoUgN_K8qQH6a",
            "security_group_id": "FIREWALL_SECURITY_GROUP-ExD5AHrCtZgIgvXImxyQAf",
            "service": [
              {
                "type": "all",
                "value": ""
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "scp_security_group.bastion_sg",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_security_group_rule",
      "name": "bastion_rule_ssh",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addresses_ipv4": [
              "112.152.240.50"
            ],
            "description": "SSH SG rule generated from Terraform",
            "direction": "IN",
            "id": "FIREWALL_RULE-d53GDPButXjRsZOfLYLdXc",
            "security_group_id": "FIREWALL_SECURITY_GROUP-ExD5AHrCtZgIgvXImxyQAf",
            "service": [
              {
                "type": "tcp",
                "value": "22"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "scp_security_group.bastion_sg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_security_group_rule",
      "name": "bastion_rule_tcp",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addresses_ipv4": [
              "0.0.0.0/0"
            ],
            "description": "TCP SG rule generated from Terraform",
            "direction": "IN",
            "id": "FIREWALL_RULE-L2Y-B-MIs4hM2RyVKShFic",
            "security_group_id": "FIREWALL_SECURITY_GROUP-ExD5AHrCtZgIgvXImxyQAf",
            "service": [
              {
                "type": "tcp",
                "value": "80"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "scp_security_group.bastion_sg",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_security_group_rule",
      "name": "mgmt_cluster_rule_all",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addresses_ipv4": [
              "0.0.0.0/0"
            ],
            "description": "SG out rule generated from Terraform",
            "direction": "OUT",
            "id": "FIREWALL_RULE-C6iWxoVjstgS91p0huBjMb",
            "security_group_id": "FIREWALL_SECURITY_GROUP-Vf7cSYr0rBdGaqI2TqPBIo",
            "service": [
              {
                "type": "all",
                "value": ""
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "scp_security_group.mgmt_cluster_sg",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_subnet",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "cidr_ipv4": "10.0.11.0/24",
            "description": "private subnet generated from Terraform",
            "id": "SUBNET-UGfSXjl2sjjStIn0T76vKb",
            "name": "eshopMgmtPrSubnet",
            "type": "PRIVATE",
            "vpc_id": "VPC-TU8-lEmpt6cUMultIWLocc"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_subnet",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "cidr_ipv4": "10.0.1.0/24",
            "description": "public subnet generated from Terraform",
            "id": "SUBNET-XkLEoI1fqDcQoWbiZXukDm",
            "name": "eshopMgmtPuSubnet",
            "type": "PUBLIC",
            "vpc_id": "VPC-TU8-lEmpt6cUMultIWLocc"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_virtual_server",
      "name": "admin",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "admin_account": "root",
            "admin_password": "admin123!",
            "anti_affinity": false,
            "contract_discount": "None",
            "cpu_count": 2,
            "delete_protection": false,
            "external_storage": [],
            "id": "INSTANCE-axrBPMZWtobL5MOQU6cD2n",
            "image_id": "IMAGE-dW-daWg-sKnGu7v28o2bBh1",
            "initial_script_content": "# kubectl 설치\nsudo apt-get update\nsudo apt-get install -y apt-transport-https ca-certificates curl\n\nsudo curl -fsSLo /usr/share/keyrings/kubernetes-archive-keyring.gpg https://packages.cloud.google.com/apt/doc/apt-key.gpg\n\necho \"deb [signed-by=/usr/share/keyrings/kubernetes-archive-keyring.gpg] https://apt.kubernetes.io/ kubernetes-xenial main\" | sudo tee /etc/apt/sources.list.d/kubernetes.list\nsudo apt-get update\nsudo apt-get install -y kubelet kubeadm kubectl\nsudo apt-mark hold kubelet kubeadm kubectl\n\n# alias 설정\necho 'alias cls=clear' \u003e\u003e /root/.bashrc\necho 'export PATH=$PATH:/home/root/bin' \u003e\u003e /root/.bashrc\n\necho 'source \u003c(kubectl completion bash)' \u003e\u003e /root/.bashrc\necho 'alias k=kubectl' \u003e\u003e /root/.bashrc\necho 'complete -F __start_kubectl k' \u003e\u003e /root/.bashrc    \n\n",
            "internal_ip_address": null,
            "ipv4": "10.0.11.2",
            "local_subnet": [],
            "memory_size_gb": 4,
            "nat_ipv4": "",
            "os_storage_encrypted": false,
            "os_storage_name": "eshopAdDisk1",
            "os_storage_size_gb": 100,
            "public_ip_id": null,
            "security_group_ids": [
              "FIREWALL_SECURITY_GROUP-xIfP8NVKr8bQ3dbHh6HTRa"
            ],
            "subnet_id": "SUBNET-UGfSXjl2sjjStIn0T76vKb",
            "use_dns": true,
            "virtual_server_name": "eshopadmin",
            "vpc_id": "VPC-TU8-lEmpt6cUMultIWLocc"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_standard_image.ubuntu_image",
            "scp_security_group.admin_sg",
            "scp_subnet.private",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_virtual_server",
      "name": "bastion",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "admin_account": "root",
            "admin_password": "eshop123!",
            "anti_affinity": false,
            "contract_discount": "None",
            "cpu_count": 2,
            "delete_protection": false,
            "external_storage": [],
            "id": "INSTANCE-01GBuWB1qqkPskugaAV-Fg",
            "image_id": "IMAGE-dW-daWg-sKnGu7v28o2bBh1",
            "initial_script_content": "",
            "internal_ip_address": null,
            "ipv4": "10.0.1.2",
            "local_subnet": [],
            "memory_size_gb": 4,
            "nat_ipv4": "123.37.5.249",
            "os_storage_encrypted": false,
            "os_storage_name": "eshopBtDisk1",
            "os_storage_size_gb": 100,
            "public_ip_id": "PUBLIC_IP-VlddBCr3qJdVSpKufJxR6a",
            "security_group_ids": [
              "FIREWALL_SECURITY_GROUP-ExD5AHrCtZgIgvXImxyQAf"
            ],
            "subnet_id": "SUBNET-XkLEoI1fqDcQoWbiZXukDm",
            "use_dns": true,
            "virtual_server_name": "eshopbastion",
            "vpc_id": "VPC-TU8-lEmpt6cUMultIWLocc"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region",
            "data.scp_region.region",
            "data.scp_standard_image.ubuntu_image",
            "scp_public_ip.bastion_ip",
            "scp_security_group.bastion_sg",
            "scp_subnet.public",
            "scp_vpc.mgmt_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scp_vpc",
      "name": "mgmt_vpc",
      "provider": "provider[\"registry.terraform.io/samsungsdscloud/samsungcloudplatform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "Vpc generated from Terraform",
            "id": "VPC-TU8-lEmpt6cUMultIWLocc",
            "name": "eshopMgmtVpc",
            "region": "KR-WEST-1"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.scp_region.my_region"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
